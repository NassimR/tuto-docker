
















<!DOCTYPE html>
<!-- engine/getstarted/step_four.md -->
<html class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms no-csstransforms3d csstransitions fontface no-generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths retina-display is_not_retina chrome version webkit" lang="en">
<head>
<base href=""/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css">
@charset "UTF-8";
[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak, .ng-hide:not(.ng-hide-animate) {
	display: none !important;
}
ng\:form {
	display: block;
}
</style>
<script type="text/javascript" async="" src="https://docker.github.io/js/analytics.js"></script><script async="" src="https://docker.github.io/js/gtm.js"></script>
<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(e,t){return function(){o(e,[(new Date).getTime()].concat(a(arguments)),null,t)}}var o=e("handle"),i=e(2),a=e(3);"undefined"==typeof window.newrelic&&(newrelic=NREUM);var u=["setPageViewName","setCustomAttribute","finished","addToTrace","inlineHit"],c=["addPageAction"],f="api-";i(u,function(e,t){newrelic[t]=r(f+t,"api")}),i(c,function(e,t){newrelic[t]=r(f+t)}),t.exports=newrelic,newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),o("err",[e,(new Date).getTime()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?u(e,a,i):i()}function n(n,r,o){e&&e(n,r,o);for(var i=t(o),a=l(n),u=a.length,c=0;u>c;c++)a[c].apply(i,r);var s=f[g[n]];return s&&s.push([m,n,r,i]),i}function p(e,t){w[e]=l(e).concat(t)}function l(e){return w[e]||[]}function d(e){return s[e]=s[e]||o(n)}function v(e,t){c(e,function(e,n){t=t||"feature",g[n]=t,t in f||(f[t]=[])})}var w={},g={},m={on:p,emit:n,get:d,listeners:l,context:t,buffer:v};return m}function i(){return new r}var a="nr@context",u=e("gos"),c=e(2),f={},s={},p=t.exports=o();p.backlog=f},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!w++){var e=v.info=NREUM.info,t=s.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&t){c(l,function(t,n){e[t]||(e[t]=n)});var n="https"===p.split(":")[0]||e.sslForHttp;v.proto=n?"https://":"http://",u("mark",["onload",a()],null,"api");var r=s.createElement("script");r.src=v.proto+e.agent,t.parentNode.insertBefore(r,t)}}}function o(){"complete"===s.readyState&&i()}function i(){u("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var u=e("handle"),c=e(2),f=window,s=f.document;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:f.XMLHttpRequest,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver},e(1);var p=""+location,l={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-943.min.js"},d=window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent),v=t.exports={offset:a(),origin:p,features:{},xhrWrappable:d};s.addEventListener?(s.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",r,!1)):(s.attachEvent("onreadystatechange",o),f.attachEvent("onload",r)),u("mark",["firstbyte",a()],null,"api");var w=0},{}]},{},["loader"]);</script>
<meta name="keywords" content="docker, docker open source, docker platform, distributed applications, microservices, containers, docker containers, docker software, docker virtualization">
<meta property="og:site_name" content="Docker">
<meta property="og:type" content="website">
<meta property="og:title" content="Docker Docs">
<meta property="og:updated_time" content="2016-06-07T22:58:05-07:00">
<meta property="og:image" content="https://www.docker.com/sites/default/files/social/docker-facebook-share.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@docker_docs">
<meta name="twitter:url" content="https://twitter.com/docker_docs">
<meta name="twitter:title" content="Docs team">
<meta name="twitter:image:src" content="https://www.docker.com/sites/default/files/social/docker-twitter-share.png">
<meta property="article:published_time" content="2016-05-30T01:18:23-07:00">
<meta property="article:modified_time" content="2016-06-07T22:58:05-07:00">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Docker Docs: Build your own image</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link rel="apple-touch-icon" sizes="57x57" href="https://docker.github.io/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://docker.github.io/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://docker.github.io/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://docker.github.io/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://docker.github.io/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://docker.github.io/favicons/apple-touch-icon-120x120.png">
<link rel="icon" type="image/png" href="https://docker.github.io/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://docker.github.io/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="https://docker.github.io/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="https://docker.github.io/favicons/manifest.json">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="https://docker.github.io/css/allcss.css">
<link rel="stylesheet" href="https://docker.github.io/css/app2.css">
<link rel="stylesheet" href="https://docker.github.io/css/responsive.css">
<link rel="stylesheet" href="https://docker.github.io/css/p2p.css">
<link rel="stylesheet" href="https://docker.github.io/css/mobile_responsive.css">
<link rel="stylesheet" href="https://docker.github.io/css/temporary.css">
<link rel="stylesheet" href="https://docker.github.io/css/documentation.css">
<script async="" src="https://docker.github.io/js/modernizr.min.js"></script>
<meta class="foundation-data-attribute-namespace">
<meta class="foundation-mq-xxlarge">
<meta class="foundation-mq-xlarge-only">
<meta class="foundation-mq-xlarge">
<meta class="foundation-mq-large-only">
<meta class="foundation-mq-large">
<meta class="foundation-mq-medium-only">
<meta class="foundation-mq-medium">
<meta class="foundation-mq-small-only">
<meta class="foundation-mq-small">
<style></style>
<meta class="foundation-mq-topbar">
<link id="mktoForms2BaseStyle" rel="stylesheet" type="text/css" href="https://docker.github.io/css/forms2.css">
<link id="mktoForms2ThemeStyle" rel="stylesheet" type="text/css" href="https://docker.github.io/css/forms2-theme-simple.css">
</head>
<body class="html front not-logged-in no-sidebars page-node page-node- page-node-1 node-type-front-page path-docker ng-scope short retina-display all_loaded" ng-app="Docker" ng-controller="DockerController" style="">
<div class="off-canvas-wrap" data-offcanvas="" style="min-height: 548px;">
  <div class="inner-wrap"> <a class="left-off-canvas-toggle" href="https://docker.github.io/#">
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve">
      <path fill="#fff" d="M30.583,9.328c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
		c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,7.966,30.583,8.576,30.583,9.328L30.583,9.328z"></path>
      <path fill="#fff" d="M30.583,17.09c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
		c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,15.728,30.583,16.338,30.583,17.09L30.583,17.09z"></path>
      <path fill="#fff" d="M30.583,24.387c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
		c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,23.025,30.583,23.635,30.583,24.387L30.583,24.387z"></path>
    </svg>
    </a>
    <header class="main-header">
      <div class="top-right-bg"></div>
      <div class="container">
        <div class="row">
          <div class="col-xs-2"> <a href="https://docker.github.io/"><img class="logo" src="https://docker.github.io/images/logo-docker-main.png"></a> </div>
          <div class="col-xs-10">
            <ul class="nav-global">
              <li class="first leaf menu-mlid-603"><a href="https://docker.github.io/" target="_blank">Docs</a></li>
              <li class="leaf menu-mlid-1997"><a href="https://www.docker.com/community/events">Events</a></li>
              <li class="leaf menu-mlid-1998"><a href="https://www.docker.com/docker-community">Community</a></li>
              <li class="leaf menu-mlid-1999"><a href="https://www.docker.com/docker-support-services">Support</a></li>
              <li class="leaf menu-mlid-402"><a href="https://training.docker.com/" target="_blank">Training</a></li>
              <li class="leaf menu-mlid-2000"><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
              <li class="leaf menu-mlid-602"><a href="https://blog.docker.com/" target="_blank">Blog</a></li>
              <li class="leaf menu-mlid-2001"><a href="https://cloud.docker.com/login/" target="_blank">Log-In</a></li>
              <li class="last leaf menu-mlid-2002"><a href="https://cloud.docker.com/" target="_blank">Sign-up</a></li>
            </ul>
            <ul class="nav-main">
              <li class="first leaf menu-mlid-398"><a href="https://www.docker.com/what-docker">What is Docker?</a></li>
              <li class="expanded menu-mlid-1059 has-submenu"><a href="https://www.docker.com/enterprise">Solutions</a>
                <ul class="nav-main">
                  <li class="first leaf menu-mlid-1064"><a href="https://www.docker.com/enterprise">Solutions</a></li>
                  <li class="leaf menu-mlid-2365"><a href="https://www.docker.com/enterprise">Overview</a></li>
                  <li class="collapsed menu-mlid-993"><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                  <li class="leaf menu-mlid-1034"><a href="https://www.docker.com/customers">Customers</a></li>
                  <li class="leaf menu-mlid-1587"><a href="https://www.docker.com/industry-government">For Government</a></li>
                  <li class="last collapsed menu-mlid-985"><a href="https://www.docker.com/products/resources">Resources</a></li>
                </ul>
              </li>
              <li class="leaf menu-mlid-954"><a href="https://www.docker.com/products/overview">Get Docker</a></li>
              <li class="leaf menu-mlid-1055"><a href="https://www.docker.com/pricing">Pricing</a></li>
              <li class="leaf menu-mlid-2005 double-navstyle secondlast"><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
              <li class="last expanded menu-mlid-397 has-submenu"><a href="https://www.docker.com/company">Company</a>
                <ul class="nav-main">
                  <li class="first leaf menu-mlid-698"><a href="https://www.docker.com/company">Company</a></li>
                  <li class="leaf menu-mlid-2366"><a href="https://www.docker.com/company">Overview</a></li>
                  <li class="leaf menu-mlid-622"><a href="https://www.docker.com/careers">Careers</a></li>
                  <li class="last leaf menu-mlid-1086"><a href="https://www.docker.com/company/news-and-press">News &amp; Press</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>
    <aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        <li class="first leaf menu-mlid-398"><a href="https://www.docker.com/what-docker">What is Docker?</a></li>
        <li class="expanded menu-mlid-1059 has-submenu"><a href="https://www.docker.com/enterprise">Solutions</a>
          <ul class="left-submenu">
            <li class="back"><a href="https://docker.github.io/#">Back</a></li>
            <li class="first leaf menu-mlid-1064"><a href="https://www.docker.com/enterprise">Solutions</a></li>
            <li class="leaf menu-mlid-2365"><a href="https://www.docker.com/enterprise">Overview</a></li>
            <li class="collapsed menu-mlid-993"><a href="https://www.docker.com/use-cases">Use Cases</a></li>
            <li class="leaf menu-mlid-1034"><a href="https://www.docker.com/customers">Customers</a></li>
            <li class="leaf menu-mlid-1587"><a href="https://www.docker.com/industry-government">For Government</a></li>
            <li class="last collapsed menu-mlid-985"><a href="https://www.docker.com/products/resources">Resources</a></li>
          </ul>
        </li>
        <li class="leaf menu-mlid-954"><a href="https://www.docker.com/products/overview">Get Docker</a></li>
        <li class="leaf menu-mlid-1055"><a href="https://www.docker.com/pricing">Pricing</a></li>
        <li class="leaf menu-mlid-2005 double-navstyle secondlast"><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
        <li class="last expanded menu-mlid-397 has-submenu"><a href="https://www.docker.com/company">Company</a>
          <ul class="left-submenu">
            <li class="back"><a href="https://docker.github.io/#">Back</a></li>
            <li class="first leaf menu-mlid-698"><a href="https://www.docker.com/company">Company</a></li>
            <li class="leaf menu-mlid-2366"><a href="https://www.docker.com/company">Overview</a></li>
            <li class="leaf menu-mlid-622"><a href="https://www.docker.com/careers">Careers</a></li>
            <li class="last leaf menu-mlid-1086"><a href="https://www.docker.com/company/news-and-press">News &amp; Press</a></li>
          </ul>
        </li>
      </ul>
      <ul class="nav-global-off-canvas">
        <li class="first leaf menu-mlid-603"><a href="https://docker.github.io/" target="_blank">Docs</a></li>
        <li class="leaf menu-mlid-1997"><a href="https://www.docker.com/community/events">Events</a></li>
        <li class="leaf menu-mlid-1998"><a href="https://www.docker.com/docker-community">Community</a></li>
        <li class="leaf menu-mlid-1999"><a href="https://www.docker.com/docker-support-services">Support</a></li>
        <li class="leaf menu-mlid-402"><a href="https://training.docker.com/" target="_blank">Training</a></li>
        <li class="leaf menu-mlid-2000"><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
        <li class="leaf menu-mlid-602"><a href="https://blog.docker.com/" target="_blank">Blog</a></li>
        <li class="leaf menu-mlid-2001"><a href="https://cloud.docker.com/login/" target="_blank">Log-In</a></li>
        <li class="last leaf menu-mlid-2002"><a href="https://cloud.docker.com/" target="_blank">Sign-up</a></li>
      </ul>
    </aside>
    <div class="dockercon16">
      <section class="title_section darkblue"> </section>
      <div class="">
        <div class="container-fluid">
          <div class="row">
            <div class="col-xs-12 col-sm-3 col-md-2 col-xl-2 docsidebarnav_section">
              <div class="region region-hero-sub"><ul class="nav-sub">

							</ul>
              </div>
            </div>
            <div  class="col-xs-12 col-sm-9 col-md-8 col-xl-9"  >
              <section class="section" id="DocumentationText">
              <h1 id="build-your-own-image">Build your own image</h1>

<p>The <code class="highlighter-rouge">whalesay</code> image could be improved. It would be nice if you didn’t have to
think of something to say. And you type a lot to get <code class="highlighter-rouge">whalesay</code> to talk.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>docker run docker/whalesay cowsay boo-boo
</code></pre>
</div>

<p>In this next section, you will improve the <code class="highlighter-rouge">whalesay</code> image by building a new version that “talks on its own” and requires fewer words to run.</p>

<h2 id="step-1-write-a-dockerfile">Step 1: Write a Dockerfile</h2>

<p>In this step, you use your favorite text editor to write a short Dockerfile.  A
Dockerfile describes the software that is “baked” into an image. It isn’t just
ingredients tho, it can tell the software what environment to use or what
commands to run. Your recipe is going to be very short.</p>

<ol>
  <li>
    <p>Go back to your command terminal window.</p>
  </li>
  <li>
    <p>Make a new directory by typing <code class="highlighter-rouge">mkdir mydockerbuild</code> and pressing RETURN.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ mkdir mydockerbuild
</code></pre>
    </div>

    <p>This directory serves as the “context” for your build. The context just means it contains all the things you need to build your image.</p>
  </li>
  <li>
    <p>Change to your new directory.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ cd mydockerbuild
</code></pre>
    </div>

    <p>Right now the directory is empty.</p>
  </li>
  <li>
    <p>Create a Dockerfile in the directory by typing <code class="highlighter-rouge">touch Dockerfile</code> and pressing RETURN.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ touch Dockerfile
</code></pre>
    </div>

    <p>The command appears to do nothing but it actually creates the Dockerfile in the current directory.  Just type <code class="highlighter-rouge">ls Dockerfile</code> to see it.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ ls Dockerfile
 Dockerfile
</code></pre>
    </div>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">Dockerfile</code> in a visual text editor like <a href="https://atom.io/" target="_blank">Atom</a> or <a href="https://www.sublimetext.com/" target="_blank">Sublime</a>, or a text based editor like <code class="highlighter-rouge">vi</code>, or <code class="highlighter-rouge">nano</code> (https://www.nano-editor.org/).</p>
  </li>
  <li>
    <p>Add a line to the file like this:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> FROM docker/whalesay:latest
</code></pre>
    </div>

    <p>The <code class="highlighter-rouge">FROM</code> keyword tells Docker which image your image is based on. Whalesay is cute and has the <code class="highlighter-rouge">cowsay</code> program already, so we’ll start there.</p>
  </li>
  <li>
    <p>Now, add the <code class="highlighter-rouge">fortunes</code> program to the image.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> RUN apt-get -y update &amp;&amp; apt-get install -y fortunes
</code></pre>
    </div>

    <p>The <code class="highlighter-rouge">fortunes</code> program has a command that prints out wise sayings for our whale to say. So, the first step is to install it. This line installs the software into the image.</p>
  </li>
  <li>
    <p>Once the image has the software it needs, you instruct the software to run
 when the image is loaded.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>   CMD /usr/games/fortune -a | cowsay
</code></pre>
    </div>

    <p>This line tells the <code class="highlighter-rouge">fortune</code> program to pass a nifty quote to the <code class="highlighter-rouge">cowsay</code> program.</p>
  </li>
  <li>
    <p>Check your work, your file should look like this:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> FROM docker/whalesay:latest
 RUN apt-get -y update &amp;&amp; apt-get install -y fortunes
 CMD /usr/games/fortune -a | cowsay
</code></pre>
    </div>
  </li>
  <li>
    <p>Save and close your Dockerfile.</p>

    <p>At this point, you have all your software ingredients and behaviors described in a Dockerfile. You are ready to build a new image.</p>
  </li>
</ol>

<h2 id="step-2-build-an-image-from-your-dockerfile">Step 2: Build an image from your Dockerfile</h2>

<ol>
  <li>
    <p>At the command line, make sure the Dockerfile is in the current directory by typing <code class="highlighter-rouge">cat Dockerfile</code></p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ cat Dockerfile
 FROM docker/whalesay:latest

 RUN apt-get -y update &amp;&amp; apt-get install -y fortunes

 CMD /usr/games/fortune -a | cowsay
</code></pre>
    </div>
  </li>
  <li>
    <p>Now, build your new image by typing the <code class="highlighter-rouge">docker build -t docker-whale .</code> command in your terminal (don’t forget the . period).</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ docker build -t docker-whale .
 Sending build context to Docker daemon 2.048 kB
 ...snip...
 Removing intermediate container a8e6faa88df3
 Successfully built 7d9495d03763
</code></pre>
    </div>

    <p>The command takes several seconds to run and reports its outcome. Before
 you do anything with the new image, take a minute to learn about the
 Dockerfile build process.</p>
  </li>
</ol>

<h2 id="step-3-learn-about-the-build-process">Step 3: Learn about the build process</h2>

<p>The <code class="highlighter-rouge">docker build -t docker-whale .</code> command takes the <code class="highlighter-rouge">Dockerfile</code> in the
current directory, and builds an image called <code class="highlighter-rouge">docker-whale</code> on your local
machine. The command takes about a minute and its output looks really long and
complex. In this section, you learn what each message means.</p>

<p>First Docker checks to make sure it has everything it needs to build.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Sending build context to Docker daemon 2.048 kB
</code></pre>
</div>

<p>Then, Docker loads with the <code class="highlighter-rouge">whalesay</code> image.	It already has this image
locally as you might recall from the last page. So, Docker doesn’t need to
download it.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Step 1 : FROM docker/whalesay:latest
 ---&gt; fb434121fc77
</code></pre>
</div>

<p>Docker moves onto the next step which is to update the <code class="highlighter-rouge">apt-get</code> package
manager. This takes a lot of lines, no need to list them all again here.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Step 2 : RUN apt-get -y update &amp;&amp; apt-get install -y fortunes
 ---&gt; Running in 27d224dfa5b2
Ign http://archive.ubuntu.com trusty InRelease
Ign http://archive.ubuntu.com trusty-updates InRelease
Ign http://archive.ubuntu.com trusty-security InRelease
Hit http://archive.ubuntu.com trusty Release.gpg
....snip...
Get:15 http://archive.ubuntu.com trusty-security/restricted amd64 Packages [14.8 kB]
Get:16 http://archive.ubuntu.com trusty-security/universe amd64 Packages [134 kB]
Reading package lists...
---&gt; eb06e47a01d2
</code></pre>
</div>

<p>Then, Docker installs the new <code class="highlighter-rouge">fortunes</code> software.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  fortune-mod fortunes-min librecode0
Suggested packages:
  x11-utils bsdmainutils
The following NEW packages will be installed:
  fortune-mod fortunes fortunes-min librecode0
0 upgraded, 4 newly installed, 0 to remove and 3 not upgraded.
Need to get 1961 kB of archives.
After this operation, 4817 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu/ trusty/main librecode0 amd64 3.6-21 [771 kB]
...snip......
Setting up fortunes (1:1.99.1-7) ...
Processing triggers for libc-bin (2.19-0ubuntu6.6) ...
 ---&gt; c81071adeeb5
Removing intermediate container 23aa52c1897c
</code></pre>
</div>

<p>Finally, Docker finishes the build and reports its outcome.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Step 3 : CMD /usr/games/fortune -a | cowsay
 ---&gt; Running in a8e6faa88df3
 ---&gt; 7d9495d03763
Removing intermediate container a8e6faa88df3
Successfully built 7d9495d03763
</code></pre>
</div>

<h2 id="step-4-run-your-new-docker-whale">Step 4: Run your new docker-whale</h2>

<p>In this step, you verify the new images is on your computer and then you run your new image.</p>

<ol>
  <li>
    <p>Open a command line terminal.</p>
  </li>
  <li>
    <p>Type <code class="highlighter-rouge">docker images</code> and press RETURN.</p>

    <p>This command, you might remember, lists the images you have locally.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ docker images
 REPOSITORY           TAG          IMAGE ID          CREATED             SIZE
 docker-whale         latest       7d9495d03763      4 minutes ago       273.7 MB
 docker/whalesay      latest       fb434121fc77      4 hours ago         247 MB
 hello-world          latest       91c95931e552      5 weeks ago         910 B
</code></pre>
    </div>
  </li>
  <li>
    <p>Run your new image by typing <code class="highlighter-rouge">docker run docker-whale</code> and pressing RETURN.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ docker run docker-whale
  _________________________________________
 / "He was a modest, good-humored boy. It  \
 \ was Oxford that made him insufferable." /
  -----------------------------------------
           \
            \
             \     
                           ##        .            
                     ## ## ##       ==            
                  ## ## ## ##      ===            
              /""""""""""""""""___/ ===        
         ~~~ {~~ ~~~~ ~~~ ~~~~ ~~ ~ /  ===- ~~~   
              \______ o          __/            
               \    \        __/             
                 \____\______/   
</code></pre>
    </div>
  </li>
</ol>

<p>As you can see, you’ve made the whale a lot smarter. It finds its own
things to say and the command line is a lot shorter!  You may also notice
that Docker didn’t have to download anything.  That is because the image was
built locally and is already available.</p>

<h2 id="where-to-go-next">Where to go next</h2>

<p>On this page, you learned to build an image by writing your own Dockerfile.
You ran your image in a container. You also just used Linux from your Mac yet
again. In the next section, you take the first step in sharing your image by
<a href="https://docker.github.io/engine/getstarted/step_five.md">creating a Docker Hub account</a>.</p>

<p> </p>

							
							<div style="text-align: center; margin-top: 50px">
								<img src="https://docker.github.io/images/chat.png" alt="chat icon" style="margin-right: 10px">
								<b>Feedback?</b> Questions? Suggestions?<br/>
							  <a href="https://github.com/docker/docker.github.io/edit/master/engine/getstarted/step_four.md" class="nomunge">Edit this page</a>,
								<a href="https://github.com/docker/docker.github.io/issues/new?title=Feedback for: engine/getstarted/step_four.md&body=URL: [https://docs.docker.com/engine/getstarted/step_four.md](https://docs.docker.com/engine/getstarted/step_four/)" class="nomunge">file a ticket</a>, or rate this page:
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
								PDRTJS_settings_8453675 = {
								"id" : "8453675",
								"unique_id" : "engine/getstarted/step_four.md",
								"title" : "Build your own image",
								"permalink" : "https://github.com/docker/docker.github.io/blob/master/engine/getstarted/step_four.md"
								};
								(function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
								</script>
							</div>
							
			       </section>

						 <script language="javascript">
						 var x = document.links.length;
						 for (i = 0; i < x; i++) {
							 var munged = false;
						   var thisHREF = document.links[i].href;
						   if (thisHREF.indexOf(window.location.hostname) > -1 && document.links[i].className.indexOf("nomunge")<0)
							 {
								munged = true;
								thisHREF = thisHREF.replace(".md","/").replace("/index/","/");
								document.links[i].setAttribute('href', thisHREF);
							 }
						 }
						 </script>
            </div>
						
						<div class="hidden-xs hidden-sm col-md-2 col-xl-1 tableofcontents_section">
                <section class="section" id="TableOfContentsSection">
						    <span class="title_section">
								  <form class="search-form form-inline ng-pristine ng-valid" action="https://docker.github.io/search/">
								    <span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"><input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Geomanist, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="ds-dropdown-menu" style="position: absolute; top: 100%; z-index: 100; left: 0px; right: auto; display: none;"><div class="ds-dataset-0"></div></span></span>
								    <button type="submit" class="search-submit btn btn-default">Search</button>
								  </form>
						    </span>
                <span><a href="https://github.com/docker/docker.github.io/edit/master/engine/getstarted/step_four.md" class="button darkblue-btn nomunge" style="color:#FFFFFF; width:100%; margin: 0px;">Edit This Page</a></span>
                <nav id="TableOfContents">
								</nav>
                </section>
            </div>
						<!-- end check for notoc != true -->
          </div>
        </div>
      </div>
      <a class="exit-off-canvas"><i class="footer_mobypadding"> </i></a> </div>
  </div>
  <div class="moby_footer"> <i class="bar"></i> <i class="moby"></i> </div>
  <footer class="main_footer">
    <div class="container">
      <div class="top_footer">
        <div class="row">
          <div class="col-xs-12 col-sm-5 col-md-5 col-sm-push-3 col-md-push-3">
            <h6>Connect</h6>
            <p>Subscribe to our newsletter</p>
            <div class=" newsletter">
              <script src="https://docker.github.io/js/forms2.min.js"></script>
              <form id="mktoForm_1038" class="ng-pristine ng-valid mktoForm mktoHasWidth mktoLayoutLeft" novalidate style="font-family: Helvetica, Arial, sans-serif; font-size: 13px; color: rgb(51, 51, 51); width: 271px;">
                <style type="text/css">
.mktoForm .mktoButtonWrap.mktoSimple .mktoButton {
color:#fff;
border:1px solid #75ae4c;
padding:0.4em 1em;
font-size:1em;
background-color:#99c47c;
background-image: -webkit-gradient(linear, left top, left bottom, from(#99c47c), to(#75ae4c));
background-image: -webkit-linear-gradient(top, #99c47c, #75ae4c);
background-image: -moz-linear-gradient(top, #99c47c, #75ae4c);
background-image: linear-gradient(to bottom, #99c47c, #75ae4c);
}
.mktoForm .mktoButtonWrap.mktoSimple .mktoButton:hover {
border:1px solid #447f19;
}
.mktoForm .mktoButtonWrap.mktoSimple .mktoButton:focus {
outline:none;
border:1px solid #447f19;
}
.mktoForm .mktoButtonWrap.mktoSimple .mktoButton:active{
background-color:#75ae4c;
background-image: -webkit-gradient(linear, left top, left bottom, from(#75ae4c), to(#99c47c));
background-image: -webkit-linear-gradient(top, #75ae4c, #99c47c);
background-image: -moz-linear-gradient(top, #75ae4c, #99c47c);
background-image: linear-gradient(to bottom, #75ae4c, #99c47c);
}
</style>
  </form>
              <script>
							MktoForms2.loadForm("//app-sj05.marketo.com", "929-FJL-178", 1038, function(form) {
								form.onSuccess(function(values, followUpUrl) {
									location.href = "https://www.docker.com/thank-you-subscribing-docker-weekly";
									return false;
								});
							});
							MktoForms2.whenReady(function(form){

							});
						</script>
            </div>
            <ul class="social-icons">
              <li class="facebook"><a target="_blank" href="https://www.facebook.com/docker.run">facebook</a></li>
              <li class="google"><a target="_blank" href="https://plus.google.com/u/0/communities/108146856671494713993">google-plus</a></li>
              <li class="github"><a target="_blank" href="https://github.com/docker/docker">github</a></li>
              <li class="linkedin"><a target="_blank" href="https://www.linkedin.com/company/docker">linkedin</a></li>
              <li class="youtube"><a target="_blank" href="https://www.youtube.com/user/dockerrun">youtube</a></li>
              <li class="reddit"><a target="_blank" href="https://www.reddit.com/r/docker">reddit</a></li>
              <li class="twitter"><a target="_blank" href="https://twitter.com/docker">twitter</a></li>
              <li class="slideshare"><a target="_blank" href="http://www.slideshare.net/docker">slideshare</a></li>
            </ul>
          </div>
          <div class="col-xs-6 col-sm-3 col-md-3 col-sm-pull-5 col-md-pull-5 sm-margin-top-40">
            <h6>Docker</h6>
            <ul class="menu">
              <li class="first leaf menu-mlid-1487"><a href="https://docker.github.io/engine/getstarted/" target="_blank">Get Started</a></li>
              <li class="leaf menu-mlid-1488"><a href="https://docker.github.io/" target="_blank">Docs</a></li>
              <li class="leaf menu-mlid-1490"><a href="https://blog.docker.com/" target="_blank">Blog</a></li>
              <li class="leaf menu-mlid-1491"><a href="https://training.docker.com/" target="_blank">Training</a></li>
              <li class="last leaf menu-mlid-1492"><a href="https://www.docker.com/open-source">Open Source</a></li>
            </ul>
          </div>
          <div class="col-xs-6 col-sm-4 col-md-4 sm-margin-top-40">
            <h6>Related Links</h6>
            <ul id="cp_links">
              <li><a href="https://www.docker.com/cp/container-management-deployment">Container Management Deployment</a></li>
              <li><a href="https://www.docker.com/cp/docker-and-aws">Docker And Aws</a></li>
              <li><a href="https://www.docker.com/cp/container-management-orchestration">Container Management Orchestration</a></li>
              <li><a href="https://www.docker.com/cp/docker-and-kubernetes">Docker And Kubernetes</a></li>
              <li><a href="https://www.docker.com/cp/container-orchestration-engines">Container Orchestration Engines</a></li>
            </ul>
            <div id="block-block-5" class="block block-block"> </div>
          </div>
        </div>
      </div>
      <div class="bottom_footer">
        <div class="footer-nav">
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-5 col-md-push-7">
              <nav class="primary-footer-sub-nav">
                <ul>
                  <li><a href="https://www.docker.com/products/docker-hub">Hub</a></li>
                  <li><a href="https://status.docker.com/">Status</a></li>
                  <li><a href="https://www.docker.com/docker-security">Security</a></li>
                  <li><a href="https://www.docker.com/legal">Legal</a></li>
                  <li><a href="https://goto.docker.com/sales-inquiry.html">Contact</a></li>
                </ul>
              </nav>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-7 col-md-pull-5">
              <p>Build, Ship, Run. An open platform for distributed applications for developers and sysadmins</p>
            </div>
          </div>
        </div>
        <div class="footer-copyright">
          <p class="copyright">Copyright &copy; 2016 Docker Inc. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>
  <link rel="stylesheet" href="https://docker.github.io/css/github.css">
  <script src="https://docker.github.io/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="https://docker.github.io/js/alljs.js"></script>
  <script async="" src="https://docker.github.io/js/menu.js"></script>
  <script async="" src="https://docker.github.io/js/app.js"></script>
  <script async="" src="https://docker.github.io/js/anchorlinks.js"></script>
  <noscript>
  &lt;iframe src="//www.googletagmanager.com/ns.html?id=GTM-WLGFZV" height="0" width="0" style="display:none;visibility:hidden"&gt;&lt;/iframe&gt;
  </noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-WLGFZV');</script>
</div>
<div id="mktoStyleLoaded" style="display: none; border-top-color: rgb(18, 52, 86);"></div>
<form class="ng-pristine ng-valid mktoForm mktoHasWidth mktoLayoutLeft" novalidate style="font-family: Helvetica, Arial, sans-serif; font-size: 13px; color: rgb(51, 51, 51); visibility: hidden; position: absolute; top: -500px; left: -1000px; width: 1602px;">
</form>
<iframe name="mktoFormsXDIframe0.4071891359139037" id="MktoForms2XDIframe" src="https://docker.github.io/js/XDFrame.html" style="display: none;"></iframe>
<script aria-hidden="true" type="application/x-lastpass" id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{(function() { for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; if (typeof(lastpass_f.lpsubmitorig2)=='object'){ continue;}lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); if (d) {for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ if (typeof(d.innerText) != 'undefined') { d.innerText=i.toString(); } else { d.textContent=i.toString(); } } } d.dispatchEvent(customEvent); }form.lpsubmitorig2(); } } }})()}catch(e){}</script>
</body>
</html>
